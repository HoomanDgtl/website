---
categories: ["Testnet"]
tags: ["Testnet", "BME", "Testing", "Test Plan"]
title: "BME Testnet Test Plan"
linkTitle: "Test Plan"
description: "Comprehensive test plan for BME (Burn Mint Equilibrium) module testing"
weight: 2
---

## Overview

This test plan validates BME functionality through real user workflows on testnet. Tests are triggered by user actions (creating deployments, closing deployments, funding wallets) rather than direct message invocation. BME mechanics are verified by observing state changes after user actions complete.

---

## Tester Requirements

The following are your responsibility to set up before testing:

### Akash CLI (`akash`)

**Required Version:** `v2.1.0-a17`

**⚠️ IMPORTANT:** The standard CLI installation guide installs the **mainnet** binary by default. For testnet, you must install the specific testnet version.

**Download the correct testnet binary directly from:**
https://github.com/akash-network/node/releases/tag/v2.1.0-a17

**Installation Notes:**
- **Homebrew will NOT work** for testnet installation — it installs mainnet binaries only
- Follow the manual installation steps from the [CLI Installation Guide](https://akash.network/docs/developers/deployment/cli/installation-guide/), but substitute the binary from the testnet release link above
- After installation, verify your version:
  ```bash
  akash version
  # Expected output: 2.1.0-a17
  ```

### Provider Services (`provider-services`)

**Required Version:** `v0.10.5`

**Download from:** https://github.com/akash-network/provider/releases/tag/v0.10.5

This binary is required for sending manifests to providers.

```bash
provider-services version
# Expected output: v0.10.5
```

### Environment Configuration

Ensure your environment variables are set correctly:

```bash
export AKASH_CHAIN_ID=testnet-8
export AKASH_NODE=https://testnetrpc.akashnet.net:443
```

Verify:
```bash
echo $AKASH_CHAIN_ID
# Expected output: testnet-8

echo $AKASH_NODE
# Expected output: https://testnetrpc.akashnet.net:443
```

### MTLS Certificates

MTLS certificates are required for sending manifests to providers.

Follow the certificate setup guide: https://akash.network/docs/developers/deployment/cli/installation-guide/#mtls-certificate-authentication-optional

### Funded Test Wallet

Use the testnet faucet to fund your wallet with 500 AKT per request:
https://faucet.dev.akash.pub

---

## Network Prerequisites

These are managed by the Akash Core team:

- Healthy testnet-8 network running with BME module enabled
- Oracle module configured with price feeds
- Provider(s) running on testnet to accept deployments
- Ability to manipulate oracle prices for circuit breaker testing (Akash Core team only)

**Note:** All prerequisites are validated in Category 0 pre-flight checks.

---

## Key Metrics to Monitor

These should be queried before and after each test:

| Metric | Query Method | Description |
|--------|--------------|-------------|
| `OutstandingACT` | `akash query bme vault-state` | Total ACT supply (system liabilities) |
| `VaultAKT` | `akash query bme vault-state` | AKT held in BME module account |
| `RemintCredits` | `akash query bme vault-state` | Available AKT credits before new minting required |
| `TotalBurned` | `akash query bme vault-state` | Cumulative ACT burned |
| `TotalMinted` | `akash query bme vault-state` | Cumulative AKT minted (inflationary) |
| `collateral_ratio` | `akash query bme status` | Collateral Ratio (decimal, e.g., 0.99) |
| `status` | `akash query bme status` | Current status (mint_status_healthy/warning/halt_cr/halt_oracle) |
| User AKT Balance | `akash query bank balances <addr>` | User's AKT and ACT |
| Oracle Price | `akash query oracle prices \| head -n 15` | Current AKT/USD price |

---

## Test Categories

### [Category 0: Pre-Flight Health Checks](/docs/testnet/testplan/pre-flight)
Verify BME module and dependencies are healthy before testing. **Run these first!**
- Node connectivity
- BME module enabled
- Oracle health
- Vault state baseline
- Collateral ratio and mint status
- Test wallet setup
- Provider availability

### [Category 1: Deployment Creation](/docs/testnet/testplan/deployment-creation)
Test AKT → ACT conversion through deployment lifecycle.
- ACT minting and standard deployment
- Insufficient funds handling
- Minimum deposit testing
- Multiple deployments from single wallet

### [Category 2: Deployment Closure & Refunds](/docs/testnet/testplan/deployment-closure)
Test ACT → AKT conversion on deployment close.
- Close deployment - ACT returned
- Burn ACT to AKT (basic)
- Price movement scenarios

### [Category 3: Provider Settlement](/docs/testnet/testplan/provider-settlement)
Verify providers receive ACT from deployment payments.
- Provider receives ACT from settlement
- Lease price matches SDL pricing
- Provider payment verification on close

### [Category 4: Epoch-Based Processing](/docs/testnet/testplan/epoch-processing)
Test epoch-based mint/burn processing.
- Verify request queuing
- Multiple queued requests

### [Category 5: Direct Message Operations](/docs/testnet/testplan/direct-messages)
Test direct mint/burn commands (MsgMintACT, MsgBurnACT, MsgBurnMint).
- Direct AKT → ACT conversion
- Direct ACT → AKT conversion
- Generic swap operations
- Input validation
- Consecutive operations

### [Category 6: Circuit Breaker & Mint Status](/docs/testnet/testplan/circuit-breaker)
**⚠️ Requires Akash Core Team Member** - Oracle price manipulation needed.
- MintStatusHealthy
- MintStatusWarning
- MintStatusHaltCR (collateral ratio)
- MintStatusHaltOracle
- Existing deployments during halt
- Recovery scenarios
- State transitions

### [Category 7: Dynamic Epoch Timing](/docs/testnet/testplan/epoch-timing)
Test dynamic epoch timing adjustments based on system state.
- Normal epoch timing
- Epoch backoff during Warning state
- Epoch timing recovery

### [Category 8: Event Emissions & Observability](/docs/testnet/testplan/observability)
Verify BME event emissions during operations.
- Event emission - MintACT
- Event emission - BurnACT
- Event emission - Deployment close

### [Category 9: Edge Cases & Error Handling](/docs/testnet/testplan/edge-cases)
Test boundary conditions and edge cases.
- Zero amount operations
- Dust amount operations
- Maximum amount operations
- Rapid sequential operations
- SDL with uakt pricing validation

### [Category 10: End-to-End Scenarios](/docs/testnet/testplan/end-to-end)
Complete user journeys combining multiple operations.
- Full deployment lifecycle
- Multi-user concurrent activity

---

## Summary Checklist

| Category | Tests | Priority |
|----------|-------|----------|
| Pre-Flight Health Checks | 0.1-0.10 | Critical (Run First) |
| Deployment Creation | 1.1-1.4 | Critical |
| Deployment Closure/Refunds | 2.1-2.3 | Critical |
| Provider Settlement | 3.1-3.3 | Critical |
| Epoch-Based Processing | 4.1-4.2 | High |
| Direct Message Operations | 5.1-5.11 | Critical |
| Circuit Breaker/Mint Status | 6.1-6.7 | ⚠️ Requires Akash Core Team |
| Dynamic Epoch Timing | 7.1-7.3 | Medium |
| Event Emissions/Observability | 8.1-8.3 | Medium |
| Edge Cases | 9.1-9.5 | High |
| End-to-End | 10.1-10.2 | Critical |

**Total: 53 tests across 11 categories**

---

## Akash Core Team Requirements

The following tests require Akash Core team coordination to trigger circuit breaker states (Warning, HaltCR, HaltOracle). These states cannot be triggered naturally without manipulating the oracle price or stopping the price feeder:

| Action | Tests Requiring |
|--------|-----------------|
| Trigger Warning state (CR < 0.95) | 6.2, 7.2, 7.3 |
| Trigger HaltCR state (CR < 0.90) | 6.3, 6.5, 6.6 |
| Stop oracle updates (HaltOracle) | 6.4 |
| Recovery from halt states | 6.6, 6.7, 7.3 |

**Note:** Tests involving natural price movement (2.3) do NOT require admin coordination — testers can work with normal market price fluctuations.

---

## Key Implementation Notes

1. **Remint Credits are active** - System tracks credits and uses them before minting new AKT
2. **Two-phase execution** - RequestBurnMint queues operations, executeBurnMint processes them
3. **Four mint statuses** - Healthy, Warning, HaltCR, HaltOracle
4. **Dynamic epoch timing** - Adjusts based on Collateralization Ratio
5. **Asymmetric circuit breaker** - AKT→ACT blocked during halt, ACT→AKT still works
6. **Provider settlement is two-step** - Provider receives ACT, then burns to AKT
7. **SDL pricing must use uact** - Using uakt is rejected with validation error